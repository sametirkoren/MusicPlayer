{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1241:function(t,e,s){\"use strict\";s.r(e),function(t){s.d(e,\"Task\",function(){return ir}),s.d(e,\"Watcher\",function(){return sr});var i=s(3),r=s.n(i),n=s(7),a=s.n(n),o=s(66),h=s(109),l=s.n(h),c=s(12),d=s.n(c),u=s(22),f=s.n(u),p=s(38),m=s.n(p),_=s(36),w=s.n(_);!function(){var t=new Error(\"Cannot find module 'perf_hooks'\");throw t.code=\"MODULE_NOT_FOUND\",t}();s(93);\n/*\n  @license\n\tRollup.js v2.79.1\n\tThu, 22 Sep 2022 04:55:29 GMT - commit 69ff4181e701a0fe0026d0ba147f31bc86beffa8\n\n\thttps://github.com/rollup/rollup\n\n\tReleased under the MIT License.\n*/\nconst g={c:\"config\",d:\"dir\",e:\"external\",f:\"format\",g:\"globals\",h:\"help\",i:\"input\",m:\"sourcemap\",n:\"name\",o:\"file\",p:\"plugin\",v:\"version\",w:\"watch\"};function E(t,e={external:[],globals:void 0},s=o.b){const i=function(t){const e=t.external&&\"string\"==typeof t.external?t.external.split(\",\"):[];return{...t,external:e,globals:\"string\"==typeof t.globals?t.globals.split(\",\").reduce((t,s)=>{const[i,r]=s.split(\":\");return t[i]=r,e.includes(i)||e.push(i),t},Object.create(null)):void 0}}(e),r=function(t,e,s){const i=s=>{var i;return null!==(i=e[s])&&void 0!==i?i:t[s]},r={acorn:i(\"acorn\"),acornInjectPlugins:t.acornInjectPlugins,cache:t.cache,context:i(\"context\"),experimentalCacheExpiry:i(\"experimentalCacheExpiry\"),external:y(t,e),inlineDynamicImports:i(\"inlineDynamicImports\"),input:i(\"input\")||[],makeAbsoluteExternalsRelative:i(\"makeAbsoluteExternalsRelative\"),manualChunks:i(\"manualChunks\"),maxParallelFileOps:i(\"maxParallelFileOps\"),maxParallelFileReads:i(\"maxParallelFileReads\"),moduleContext:i(\"moduleContext\"),onwarn:v(t,s),perf:i(\"perf\"),plugins:Object(o.d)(t.plugins),preserveEntrySignatures:i(\"preserveEntrySignatures\"),preserveModules:i(\"preserveModules\"),preserveSymlinks:i(\"preserveSymlinks\"),shimMissingExports:i(\"shimMissingExports\"),strictDeprecations:i(\"strictDeprecations\"),treeshake:R(t,e,\"treeshake\",Object(o.i)(o.m,\"treeshake\",\"false, true, \")),watch:A(t,e)};return Object(o.o)(t,Object.keys(r),\"input options\",r.onwarn,/^output$/),r}(t,i,s),n=r.onwarn;i.output&&Object.assign(i,i.output);const a=Object(o.d)(t.output);0===a.length&&a.push({});const h=a.map(t=>(function(t,e,s){const i=s=>{var i;return null!==(i=e[s])&&void 0!==i?i:t[s]},r={amd:R(t,e,\"amd\"),assetFileNames:i(\"assetFileNames\"),banner:i(\"banner\"),chunkFileNames:i(\"chunkFileNames\"),compact:i(\"compact\"),dir:i(\"dir\"),dynamicImportFunction:i(\"dynamicImportFunction\"),entryFileNames:i(\"entryFileNames\"),esModule:i(\"esModule\"),exports:i(\"exports\"),extend:i(\"extend\"),externalLiveBindings:i(\"externalLiveBindings\"),file:i(\"file\"),footer:i(\"footer\"),format:i(\"format\"),freeze:i(\"freeze\"),generatedCode:R(t,e,\"generatedCode\",Object(o.i)(o.f,\"output.generatedCode\",\"\")),globals:i(\"globals\"),hoistTransitiveImports:i(\"hoistTransitiveImports\"),indent:i(\"indent\"),inlineDynamicImports:i(\"inlineDynamicImports\"),interop:i(\"interop\"),intro:i(\"intro\"),manualChunks:i(\"manualChunks\"),minifyInternalExports:i(\"minifyInternalExports\"),name:i(\"name\"),namespaceToStringTag:i(\"namespaceToStringTag\"),noConflict:i(\"noConflict\"),outro:i(\"outro\"),paths:i(\"paths\"),plugins:Object(o.d)(t.plugins),preferConst:i(\"preferConst\"),preserveModules:i(\"preserveModules\"),preserveModulesRoot:i(\"preserveModulesRoot\"),sanitizeFileName:i(\"sanitizeFileName\"),sourcemap:i(\"sourcemap\"),sourcemapBaseUrl:i(\"sourcemapBaseUrl\"),sourcemapExcludeSources:i(\"sourcemapExcludeSources\"),sourcemapFile:i(\"sourcemapFile\"),sourcemapPathTransform:i(\"sourcemapPathTransform\"),strict:i(\"strict\"),systemNullSetters:i(\"systemNullSetters\"),validate:i(\"validate\")};return Object(o.o)(t,Object.keys(r),\"output options\",s),r})(t,i,n));return Object(o.o)(i,Object.keys(r).concat(Object.keys(h[0]).filter(t=>\"sourcemapPathTransform\"!==t),Object.keys(g),\"config\",\"environment\",\"plugin\",\"silent\",\"failAfterWarnings\",\"stdin\",\"waitForBundleInput\",\"configPlugin\"),\"CLI flags\",n,/^_$|output$|config/),r.output=h,r}const y=(t,e)=>{const s=t.external;return\"function\"==typeof s?(t,i,r)=>s(t,i,r)||e.external.includes(t):Object(o.d)(s).concat(e.external)},v=(t,e)=>t.onwarn?s=>t.onwarn(s,e):e,R=(t,e,s,i=o.h)=>{const r=b(e[s],i),n=b(t[s],i);return void 0!==r?r&&{...n,...r}:n},A=(t,e)=>!1!==t.watch&&R(t,e,\"watch\"),b=(t,e)=>t?Array.isArray(t)?t.reduce((t,s)=>s&&t&&{...t,...e(s)},{}):e(t):t;var S={};const T=d.a,{Readable:C}=m.a,x=r.a,{promisify:P}=f.a,D=o.j.exports,I=P(T.readdir),O=P(T.stat),F=P(T.lstat),N=P(T.realpath),k=\"READDIRP_RECURSIVE_ERROR\",H=new Set([\"ENOENT\",\"EPERM\",\"EACCES\",\"ELOOP\",k]),L=\"files\",W=\"directories\",M=\"files_directories\",j=\"all\",B=[L,W,M,j],U=t=>H.has(t.code),[G,V]=t.versions.node.split(\".\").slice(0,2).map(t=>Number.parseInt(t,10)),K=\"win32\"===t.platform&&(G>10||10===G&&V>=5),$=t=>{if(void 0!==t){if(\"function\"==typeof t)return t;if(\"string\"==typeof t){const e=D(t.trim());return t=>e(t.basename)}if(Array.isArray(t)){const e=[],s=[];for(const i of t){const t=i.trim();\"!\"===t.charAt(0)?s.push(D(t.slice(1))):e.push(D(t))}return s.length>0?e.length>0?t=>e.some(e=>e(t.basename))&&!s.some(e=>e(t.basename)):t=>!s.some(e=>e(t.basename)):t=>e.some(e=>e(t.basename))}}};class Y extends C{static get defaultOptions(){return{root:\".\",fileFilter:t=>!0,directoryFilter:t=>!0,type:L,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(t={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:t.highWaterMark||4096});const e={...Y.defaultOptions,...t},{root:s,type:i}=e;this._fileFilter=$(e.fileFilter),this._directoryFilter=$(e.directoryFilter);const r=e.lstat?F:O;this._stat=K?t=>r(t,{bigint:!0}):r,this._maxDepth=e.depth,this._wantsDir=[W,M,j].includes(i),this._wantsFile=[L,M,j].includes(i),this._wantsEverything=i===j,this._root=x.resolve(s),this._isDirent=\"Dirent\"in T&&!e.alwaysStat,this._statsProp=this._isDirent?\"dirent\":\"stats\",this._rdOptions={encoding:\"utf8\",withFileTypes:this._isDirent},this.parents=[this._exploreDir(s,1)],this.reading=!1,this.parent=void 0}async _read(t){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&t>0;){const{path:e,depth:s,files:i=[]}=this.parent||{};if(i.length>0){const r=i.splice(0,t).map(t=>this._formatEntry(t,e));for(const e of await Promise.all(r)){if(this.destroyed)return;const i=await this._getEntryType(e);\"directory\"===i&&this._directoryFilter(e)?(s<=this._maxDepth&&this.parents.push(this._exploreDir(e.fullPath,s+1)),this._wantsDir&&(this.push(e),t--)):(\"file\"===i||this._includeAsFile(e))&&this._fileFilter(e)&&this._wantsFile&&(this.push(e),t--)}}else{const t=this.parents.pop();if(!t){this.push(null);break}if(this.parent=await t,this.destroyed)return}}}catch(t){this.destroy(t)}finally{this.reading=!1}}}async _exploreDir(t,e){let s;try{s=await I(t,this._rdOptions)}catch(t){this._onError(t)}return{files:s,depth:e,path:t}}async _formatEntry(t,e){let s;try{const i=this._isDirent?t.name:t,r=x.resolve(x.join(e,i));(s={path:x.relative(this._root,r),fullPath:r,basename:i})[this._statsProp]=this._isDirent?t:await this._stat(r)}catch(t){this._onError(t)}return s}_onError(t){U(t)&&!this.destroyed?this.emit(\"warn\",t):this.destroy(t)}async _getEntryType(t){const e=t&&t[this._statsProp];if(e){if(e.isFile())return\"file\";if(e.isDirectory())return\"directory\";if(e&&e.isSymbolicLink()){const e=t.fullPath;try{const t=await N(e),s=await F(t);if(s.isFile())return\"file\";if(s.isDirectory()){const s=t.length;if(e.startsWith(t)&&e.substr(s,1)===x.sep){const s=new Error(`Circular symlink detected: \"${e}\" points to \"${t}\"`);return s.code=k,this._onError(s)}return\"directory\"}}catch(t){this._onError(t)}}}}_includeAsFile(t){const e=t&&t[this._statsProp];return e&&this._wantsEverything&&!e.isDirectory()}}const z=(t,e={})=>{let s=e.entryType||e.type;if(\"both\"===s&&(s=M),s&&(e.type=s),!t)throw new Error(\"readdirp: root argument is required. Usage: readdirp(root, options)\");if(\"string\"!=typeof t)throw new TypeError(\"readdirp: root argument must be a string. Usage: readdirp(root, options)\");if(s&&!B.includes(s))throw new Error(`readdirp: Invalid type passed. Use one of ${B.join(\", \")}`);return e.root=t,new Y(e)};z.promise=((t,e={})=>new Promise((s,i)=>{const r=[];z(t,e).on(\"data\",t=>r.push(t)).on(\"end\",()=>s(r)).on(\"error\",t=>i(t))})),z.ReaddirpStream=Y,z.default=z;var Q=z,Z={exports:{}},q=function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"expected path to be a string\");if(\"\\\\\"===t||\"/\"===t)return\"/\";var s=t.length;if(s<=1)return t;var i=\"\";if(s>4&&\"\\\\\"===t[3]){var r=t[2];\"?\"!==r&&\".\"!==r||\"\\\\\\\\\"!==t.slice(0,2)||(t=t.slice(2),i=\"//\")}var n=t.split(/[/\\\\]+/);return!1!==e&&\"\"===n[n.length-1]&&n.pop(),i+n.join(\"/\")};Object.defineProperty(Z.exports,\"__esModule\",{value:!0});const X=o.j.exports,J=q,tt={returnIndex:!1},et=(t,e,s,i)=>{const r=Array.isArray(s),n=r?s[0]:s;if(!r&&\"string\"!=typeof n)throw new TypeError(\"anymatch: second argument must be a string: got \"+Object.prototype.toString.call(n));const a=J(n);for(let t=0;t<e.length;t++){if((0,e[t])(a))return!!i&&-1}const o=r&&[a].concat(s.slice(1));for(let e=0;e<t.length;e++){const s=t[e];if(r?s(...o):s(a))return!i||e}return!!i&&-1},st=(t,e,s=tt)=>{if(null==t)throw new TypeError(\"anymatch: specify first argument\");const i=\"boolean\"==typeof s?{returnIndex:s}:s,r=i.returnIndex||!1,n=(t=>Array.isArray(t)?t:[t])(t),a=n.filter(t=>\"string\"==typeof t&&\"!\"===t.charAt(0)).map(t=>t.slice(1)).map(t=>X(t,i)),o=n.filter(t=>\"string\"!=typeof t||\"string\"==typeof t&&\"!\"!==t.charAt(0)).map(t=>((t,e)=>{if(\"function\"==typeof t)return t;if(\"string\"==typeof t){const s=X(t,e);return e=>t===e||s(e)}return t instanceof RegExp?e=>t.test(e):t=>!1})(t,i));return null==e?(t,e=!1)=>{return et(o,a,t,\"boolean\"==typeof e&&e)}:et(o,a,e,r)};st.default=st,Z.exports=st;\n/*!\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\nvar it,rt=function(t){if(\"string\"!=typeof t||\"\"===t)return!1;for(var e;e=/(\\\\).|([@?!+*]\\(.*\\))/g.exec(t);){if(e[2])return!0;t=t.slice(e.index+e[0].length)}return!1},nt={\"{\":\"}\",\"(\":\")\",\"[\":\"]\"},at=function(t){if(\"!\"===t[0])return!0;for(var e=0,s=-2,i=-2,r=-2,n=-2,a=-2;e<t.length;){if(\"*\"===t[e])return!0;if(\"?\"===t[e+1]&&/[\\].+)]/.test(t[e]))return!0;if(-1!==i&&\"[\"===t[e]&&\"]\"!==t[e+1]&&(i<e&&(i=t.indexOf(\"]\",e)),i>e)){if(-1===a||a>i)return!0;if(-1===(a=t.indexOf(\"\\\\\",e))||a>i)return!0}if(-1!==r&&\"{\"===t[e]&&\"}\"!==t[e+1]&&(r=t.indexOf(\"}\",e))>e&&(-1===(a=t.indexOf(\"\\\\\",e))||a>r))return!0;if(-1!==n&&\"(\"===t[e]&&\"?\"===t[e+1]&&/[:!=]/.test(t[e+2])&&\")\"!==t[e+3]&&(n=t.indexOf(\")\",e))>e&&(-1===(a=t.indexOf(\"\\\\\",e))||a>n))return!0;if(-1!==s&&\"(\"===t[e]&&\"|\"!==t[e+1]&&(s<e&&(s=t.indexOf(\"|\",e)),-1!==s&&\")\"!==t[s+1]&&(n=t.indexOf(\")\",s))>s&&(-1===(a=t.indexOf(\"\\\\\",s))||a>n)))return!0;if(\"\\\\\"===t[e]){var o=t[e+1];e+=2;var h=nt[o];if(h){var l=t.indexOf(h,e);-1!==l&&(e=l+1)}if(\"!\"===t[e])return!0}else e++}return!1},ot=function(t){if(\"!\"===t[0])return!0;for(var e=0;e<t.length;){if(/[*?{}()[\\]]/.test(t[e]))return!0;if(\"\\\\\"===t[e]){var s=t[e+1];e+=2;var i=nt[s];if(i){var r=t.indexOf(i,e);-1!==r&&(e=r+1)}if(\"!\"===t[e])return!0}else e++}return!1},ht=function(t,e){if(\"string\"!=typeof t||\"\"===t)return!1;if(rt(t))return!0;var s=at;return e&&!1===e.strict&&(s=ot),s(t)},lt=ht,ct=r.a.posix.dirname,dt=\"win32\"===l.a.platform(),ut=/\\\\/g,ft=/[\\{\\[].*[\\}\\]]$/,pt=/(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/,mt=/\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g,_t={};\n/*!\n * is-glob <https://github.com/jonschlinkert/is-glob>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */(it=_t).isInteger=(t=>\"number\"==typeof t?Number.isInteger(t):\"string\"==typeof t&&\"\"!==t.trim()&&Number.isInteger(Number(t))),it.find=((t,e)=>t.nodes.find(t=>t.type===e)),it.exceedsLimit=((t,e,s=1,i)=>!1!==i&&!(!it.isInteger(t)||!it.isInteger(e))&&(Number(e)-Number(t))/Number(s)>=i),it.escapeNode=((t,e=0,s)=>{let i=t.nodes[e];i&&(s&&i.type===s||\"open\"===i.type||\"close\"===i.type)&&!0!==i.escaped&&(i.value=\"\\\\\"+i.value,i.escaped=!0)}),it.encloseBrace=(t=>\"brace\"===t.type&&t.commas>>0+t.ranges>>0==0&&(t.invalid=!0,!0)),it.isInvalidBrace=(t=>!(\"brace\"!==t.type||!0!==t.invalid&&!t.dollar&&(t.commas>>0+t.ranges>>0==0?(t.invalid=!0,0):!0===t.open&&!0===t.close||(t.invalid=!0,0)))),it.isOpenOrClose=(t=>\"open\"===t.type||\"close\"===t.type||!0===t.open||!0===t.close),it.reduce=(t=>t.reduce((t,e)=>(\"text\"===e.type&&t.push(e.value),\"range\"===e.type&&(e.type=\"text\"),t),[])),it.flatten=((...t)=>{const e=[],s=t=>{for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?s(r):void 0!==r&&e.push(r)}return e};return s(t),e});const wt=_t;var gt=(t,e={})=>{let s=(t,i={})=>{let r=e.escapeInvalid&&wt.isInvalidBrace(i),n=!0===t.invalid&&!0===e.escapeInvalid,a=\"\";if(t.value)return(r||n)&&wt.isOpenOrClose(t)?\"\\\\\"+t.value:t.value;if(t.value)return t.value;if(t.nodes)for(let e of t.nodes)a+=s(e);return a};return s(t)};\n/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n/*!\n * to-regex-range <https://github.com/micromatch/to-regex-range>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\nconst Et=function(t){return\"number\"==typeof t?t-t==0:\"string\"==typeof t&&\"\"!==t.trim()&&(Number.isFinite?Number.isFinite(+t):isFinite(+t))},yt=(t,e,s)=>{if(!1===Et(t))throw new TypeError(\"toRegexRange: expected the first argument to be a number\");if(void 0===e||t===e)return String(t);if(!1===Et(e))throw new TypeError(\"toRegexRange: expected the second argument to be a number.\");let i={relaxZeros:!0,...s};\"boolean\"==typeof i.strictZeros&&(i.relaxZeros=!1===i.strictZeros);let r=t+\":\"+e+\"=\"+String(i.relaxZeros)+String(i.shorthand)+String(i.capture)+String(i.wrap);if(yt.cache.hasOwnProperty(r))return yt.cache[r].result;let n=Math.min(t,e),a=Math.max(t,e);if(1===Math.abs(n-a)){let s=t+\"|\"+e;return i.capture?`(${s})`:!1===i.wrap?s:`(?:${s})`}let o=Dt(t)||Dt(e),h={min:t,max:e,a:n,b:a},l=[],c=[];if(o&&(h.isPadded=o,h.maxLen=String(h.max).length),n<0){c=Rt(a<0?Math.abs(a):1,Math.abs(n),h,i),n=h.a=0}return a>=0&&(l=Rt(n,a,h,i)),h.negatives=c,h.positives=l,h.result=function(t,e,s){let i=At(t,e,\"-\",!1)||[],r=At(e,t,\"\",!1)||[],n=At(t,e,\"-?\",!0)||[];return i.concat(n).concat(r).join(\"|\")}(c,l),!0===i.capture?h.result=`(${h.result})`:!1!==i.wrap&&l.length+c.length>1&&(h.result=`(?:${h.result})`),yt.cache[r]=h,h.result};function vt(t,e,s){if(t===e)return{pattern:t,count:[],digits:0};let i=function(t,e){let s=[];for(let i=0;i<t.length;i++)s.push([t[i],e[i]]);return s}(t,e),r=i.length,n=\"\",a=0;for(let t=0;t<r;t++){let[e,s]=i[t];e===s?n+=e:\"0\"!==e||\"9\"!==s?n+=Pt(e,s):a++}return a&&(n+=!0===s.shorthand?\"\\\\d\":\"[0-9]\"),{pattern:n,count:[a],digits:r}}function Rt(t,e,s,i){let r,n=function(t,e){let s=1,i=1,r=Tt(t,s),n=new Set([e]);for(;t<=r&&r<=e;)n.add(r),r=Tt(t,s+=1);for(r=Ct(e+1,i)-1;t<r&&r<=e;)n.add(r),r=Ct(e+1,i+=1)-1;return(n=[...n]).sort(bt),n}(t,e),a=[],o=t;for(let t=0;t<n.length;t++){let e=n[t],h=vt(String(o),String(e),i),l=\"\";s.isPadded||!r||r.pattern!==h.pattern?(s.isPadded&&(l=It(e,s,i)),h.string=l+h.pattern+xt(h.count),a.push(h),o=e+1,r=h):(r.count.length>1&&r.count.pop(),r.count.push(h.count[0]),r.string=r.pattern+xt(r.count),o=e+1)}return a}function At(t,e,s,i,r){let n=[];for(let r of t){let{string:t}=r;i||St(e,\"string\",t)||n.push(s+t),i&&St(e,\"string\",t)&&n.push(s+t)}return n}function bt(t,e){return t>e?1:e>t?-1:0}function St(t,e,s){return t.some(t=>t[e]===s)}function Tt(t,e){return Number(String(t).slice(0,-e)+\"9\".repeat(e))}function Ct(t,e){return t-t%Math.pow(10,e)}function xt(t){let[e=0,s=\"\"]=t;return s||e>1?`{${e+(s?\",\"+s:\"\")}}`:\"\"}function Pt(t,e,s){return`[${t}${e-t==1?\"\":\"-\"}${e}]`}function Dt(t){return/^-?(0+)\\d/.test(t)}function It(t,e,s){if(!e.isPadded)return t;let i=Math.abs(e.maxLen-String(t).length),r=!1!==s.relaxZeros;switch(i){case 0:return\"\";case 1:return r?\"0?\":\"0\";case 2:return r?\"0{0,2}\":\"00\";default:return r?`0{0,${i}}`:`0{${i}}`}}yt.cache={},yt.clearCache=(()=>yt.cache={});var Ot=yt;\n/*!\n * fill-range <https://github.com/jonschlinkert/fill-range>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Licensed under the MIT License.\n */const Ft=f.a,Nt=Ot,kt=t=>null!==t&&\"object\"==typeof t&&!Array.isArray(t),Ht=t=>\"number\"==typeof t||\"string\"==typeof t&&\"\"!==t,Lt=t=>Number.isInteger(+t),Wt=t=>{let e=`${t}`,s=-1;if(\"-\"===e[0]&&(e=e.slice(1)),\"0\"===e)return!1;for(;\"0\"===e[++s];);return s>0},Mt=(t,e,s)=>{if(e>0){let s=\"-\"===t[0]?\"-\":\"\";s&&(t=t.slice(1)),t=s+t.padStart(s?e-1:e,\"0\")}return!1===s?String(t):t},jt=(t,e)=>{let s=\"-\"===t[0]?\"-\":\"\";for(s&&(t=t.slice(1),e--);t.length<e;)t=\"0\"+t;return s?\"-\"+t:t},Bt=(t,e,s,i)=>{if(s)return Nt(t,e,{wrap:!1,...i});let r=String.fromCharCode(t);return t===e?r:`[${r}-${String.fromCharCode(e)}]`},Ut=(t,e,s)=>{if(Array.isArray(t)){let e=!0===s.wrap,i=s.capture?\"\":\"?:\";return e?`(${i}${t.join(\"|\")})`:t.join(\"|\")}return Nt(t,e,s)},Gt=(...t)=>new RangeError(\"Invalid range arguments: \"+Ft.inspect(...t)),Vt=(t,e,s)=>{if(!0===s.strictRanges)throw Gt([t,e]);return[]},Kt=(t,e,s=1,i={})=>{let r=Number(t),n=Number(e);if(!Number.isInteger(r)||!Number.isInteger(n)){if(!0===i.strictRanges)throw Gt([t,e]);return[]}0===r&&(r=0),0===n&&(n=0);let a=r>n,o=String(t),h=String(e),l=String(s);s=Math.max(Math.abs(s),1);let c=Wt(o)||Wt(h)||Wt(l),d=c?Math.max(o.length,h.length,l.length):0,u=!1===c&&!1===((t,e,s)=>\"string\"==typeof t||\"string\"==typeof e||!0===s.stringify)(t,e,i),f=i.transform||(t=>e=>!0===t?Number(e):String(e))(u);if(i.toRegex&&1===s)return Bt(jt(t,d),jt(e,d),!0,i);let p={negatives:[],positives:[]},m=t=>p[t<0?\"negatives\":\"positives\"].push(Math.abs(t)),_=[],w=0;for(;a?r>=n:r<=n;)!0===i.toRegex&&s>1?m(r):_.push(Mt(f(r,w),d,u)),r=a?r-s:r+s,w++;return!0===i.toRegex?s>1?((t,e)=>{t.negatives.sort((t,e)=>t<e?-1:t>e?1:0),t.positives.sort((t,e)=>t<e?-1:t>e?1:0);let s,i=e.capture?\"\":\"?:\",r=\"\",n=\"\";return t.positives.length&&(r=t.positives.join(\"|\")),t.negatives.length&&(n=`-(${i}${t.negatives.join(\"|\")})`),s=r&&n?`${r}|${n}`:r||n,e.wrap?`(${i}${s})`:s})(p,i):Ut(_,null,{wrap:!1,...i}):_},$t=(t,e,s,i={})=>{if(null==e&&Ht(t))return[t];if(!Ht(t)||!Ht(e))return Vt(t,e,i);if(\"function\"==typeof s)return $t(t,e,1,{transform:s});if(kt(s))return $t(t,e,0,s);let r={...i};return!0===r.capture&&(r.wrap=!0),s=s||r.step||1,Lt(s)?Lt(t)&&Lt(e)?Kt(t,e,s,r):((t,e,s=1,i={})=>{if(!Lt(t)&&t.length>1||!Lt(e)&&e.length>1)return Vt(t,e,i);let r=i.transform||(t=>String.fromCharCode(t)),n=`${t}`.charCodeAt(0),a=`${e}`.charCodeAt(0),o=n>a,h=Math.min(n,a),l=Math.max(n,a);if(i.toRegex&&1===s)return Bt(h,l,!1,i);let c=[],d=0;for(;o?n>=a:n<=a;)c.push(r(n,d)),n=o?n-s:n+s,d++;return!0===i.toRegex?Ut(c,null,{wrap:!1,options:i}):c})(t,e,Math.max(Math.abs(s),1),r):null==s||kt(s)?$t(t,e,1,s):((t,e)=>{if(!0===e.strictRanges)throw new TypeError(`Expected step \"${t}\" to be a number`);return[]})(s,r)};const Yt=$t,zt=_t;var Qt=(t,e={})=>{let s=(t,i={})=>{let r=zt.isInvalidBrace(i),n=!0===t.invalid&&!0===e.escapeInvalid,a=!0===r||!0===n,o=!0===e.escapeInvalid?\"\\\\\":\"\",h=\"\";if(!0===t.isOpen)return o+t.value;if(!0===t.isClose)return o+t.value;if(\"open\"===t.type)return a?o+t.value:\"(\";if(\"close\"===t.type)return a?o+t.value:\")\";if(\"comma\"===t.type)return\"comma\"===t.prev.type?\"\":a?t.value:\"|\";if(t.value)return t.value;if(t.nodes&&t.ranges>0){let s=zt.reduce(t.nodes),i=Yt(...s,{...e,wrap:!1,toRegex:!0});if(0!==i.length)return s.length>1&&i.length>1?`(${i})`:i}if(t.nodes)for(let e of t.nodes)h+=s(e,t);return h};return s(t)};const Zt=$t,qt=gt,Xt=_t,Jt=(t=\"\",e=\"\",s=!1)=>{let i=[];if(t=[].concat(t),!(e=[].concat(e)).length)return t;if(!t.length)return s?Xt.flatten(e).map(t=>`{${t}}`):e;for(let r of t)if(Array.isArray(r))for(let t of r)i.push(Jt(t,e,s));else for(let t of e)!0===s&&\"string\"==typeof t&&(t=`{${t}}`),i.push(Array.isArray(t)?Jt(r,t,s):r+t);return Xt.flatten(i)};var te=(t,e={})=>{let s=void 0===e.rangeLimit?1e3:e.rangeLimit,i=(t,r={})=>{t.queue=[];let n=r,a=r.queue;for(;\"brace\"!==n.type&&\"root\"!==n.type&&n.parent;)a=(n=n.parent).queue;if(t.invalid||t.dollar)return void a.push(Jt(a.pop(),qt(t,e)));if(\"brace\"===t.type&&!0!==t.invalid&&2===t.nodes.length)return void a.push(Jt(a.pop(),[\"{}\"]));if(t.nodes&&t.ranges>0){let i=Xt.reduce(t.nodes);if(Xt.exceedsLimit(...i,e.step,s))throw new RangeError(\"expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.\");let r=Zt(...i,e);return 0===r.length&&(r=qt(t,e)),a.push(Jt(a.pop(),r)),void(t.nodes=[])}let o=Xt.encloseBrace(t),h=t.queue,l=t;for(;\"brace\"!==l.type&&\"root\"!==l.type&&l.parent;)h=(l=l.parent).queue;for(let e=0;e<t.nodes.length;e++){let s=t.nodes[e];\"comma\"!==s.type||\"brace\"!==t.type?\"close\"!==s.type?s.value&&\"open\"!==s.type?h.push(Jt(h.pop(),s.value)):s.nodes&&i(s,t):a.push(Jt(a.pop(),h,o)):(1===e&&h.push(\"\"),h.push(\"\"))}return h};return Xt.flatten(i(t))};const ee=gt,{MAX_LENGTH:se,CHAR_BACKSLASH:ie,CHAR_BACKTICK:re,CHAR_COMMA:ne,CHAR_DOT:ae,CHAR_LEFT_PARENTHESES:oe,CHAR_RIGHT_PARENTHESES:he,CHAR_LEFT_CURLY_BRACE:le,CHAR_RIGHT_CURLY_BRACE:ce,CHAR_LEFT_SQUARE_BRACKET:de,CHAR_RIGHT_SQUARE_BRACKET:ue,CHAR_DOUBLE_QUOTE:fe,CHAR_SINGLE_QUOTE:pe,CHAR_NO_BREAK_SPACE:me,CHAR_ZERO_WIDTH_NOBREAK_SPACE:_e}={MAX_LENGTH:65536,CHAR_0:\"0\",CHAR_9:\"9\",CHAR_UPPERCASE_A:\"A\",CHAR_LOWERCASE_A:\"a\",CHAR_UPPERCASE_Z:\"Z\",CHAR_LOWERCASE_Z:\"z\",CHAR_LEFT_PARENTHESES:\"(\",CHAR_RIGHT_PARENTHESES:\")\",CHAR_ASTERISK:\"*\",CHAR_AMPERSAND:\"&\",CHAR_AT:\"@\",CHAR_BACKSLASH:\"\\\\\",CHAR_BACKTICK:\"`\",CHAR_CARRIAGE_RETURN:\"\\r\",CHAR_CIRCUMFLEX_ACCENT:\"^\",CHAR_COLON:\":\",CHAR_COMMA:\",\",CHAR_DOLLAR:\"$\",CHAR_DOT:\".\",CHAR_DOUBLE_QUOTE:'\"',CHAR_EQUAL:\"=\",CHAR_EXCLAMATION_MARK:\"!\",CHAR_FORM_FEED:\"\\f\",CHAR_FORWARD_SLASH:\"/\",CHAR_HASH:\"#\",CHAR_HYPHEN_MINUS:\"-\",CHAR_LEFT_ANGLE_BRACKET:\"<\",CHAR_LEFT_CURLY_BRACE:\"{\",CHAR_LEFT_SQUARE_BRACKET:\"[\",CHAR_LINE_FEED:\"\\n\",CHAR_NO_BREAK_SPACE:\"Â \",CHAR_PERCENT:\"%\",CHAR_PLUS:\"+\",CHAR_QUESTION_MARK:\"?\",CHAR_RIGHT_ANGLE_BRACKET:\">\",CHAR_RIGHT_CURLY_BRACE:\"}\",CHAR_RIGHT_SQUARE_BRACKET:\"]\",CHAR_SEMICOLON:\";\",CHAR_SINGLE_QUOTE:\"'\",CHAR_SPACE:\" \",CHAR_TAB:\"\\t\",CHAR_UNDERSCORE:\"_\",CHAR_VERTICAL_LINE:\"|\",CHAR_ZERO_WIDTH_NOBREAK_SPACE:\"\\ufeff\"};const we=gt,ge=Qt,Ee=te,ye=(t,e={})=>{if(\"string\"!=typeof t)throw new TypeError(\"Expected a string\");let s=e||{},i=\"number\"==typeof s.maxLength?Math.min(se,s.maxLength):se;if(t.length>i)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${i})`);let r,n={type:\"root\",input:t,nodes:[]},a=[n],o=n,h=n,l=0,c=t.length,d=0,u=0;const f=()=>t[d++],p=t=>{if(\"text\"===t.type&&\"dot\"===h.type&&(h.type=\"text\"),!h||\"text\"!==h.type||\"text\"!==t.type)return o.nodes.push(t),t.parent=o,t.prev=h,h=t,t;h.value+=t.value};for(p({type:\"bos\"});d<c;)if(o=a[a.length-1],(r=f())!==_e&&r!==me)if(r!==ie)if(r!==ue)if(r!==de)if(r!==oe)if(r!==he)if(r!==fe&&r!==pe&&r!==re)if(r!==le)if(r!==ce)if(r===ne&&u>0){if(o.ranges>0){o.ranges=0;let t=o.nodes.shift();o.nodes=[t,{type:\"text\",value:ee(o)}]}p({type:\"comma\",value:r}),o.commas++}else if(r===ae&&u>0&&0===o.commas){let t=o.nodes;if(0===u||0===t.length){p({type:\"text\",value:r});continue}if(\"dot\"===h.type){if(o.range=[],h.value+=r,h.type=\"range\",3!==o.nodes.length&&5!==o.nodes.length){o.invalid=!0,o.ranges=0,h.type=\"text\";continue}o.ranges++,o.args=[];continue}if(\"range\"===h.type){t.pop();let e=t[t.length-1];e.value+=h.value+r,h=e,o.ranges--;continue}p({type:\"dot\",value:r})}else p({type:\"text\",value:r});else{if(\"brace\"!==o.type){p({type:\"text\",value:r});continue}let t=\"close\";(o=a.pop()).close=!0,p({type:t,value:r}),u--,o=a[a.length-1]}else{u++;let t=h.value&&\"$\"===h.value.slice(-1)||!0===o.dollar;o=p({type:\"brace\",open:!0,close:!1,dollar:t,depth:u,commas:0,ranges:0,nodes:[]}),a.push(o),p({type:\"open\",value:r})}else{let t,s=r;for(!0!==e.keepQuotes&&(r=\"\");d<c&&(t=f());)if(t!==ie){if(t===s){!0===e.keepQuotes&&(r+=t);break}r+=t}else r+=t+f();p({type:\"text\",value:r})}else{if(\"paren\"!==o.type){p({type:\"text\",value:r});continue}o=a.pop(),p({type:\"text\",value:r}),o=a[a.length-1]}else o=p({type:\"paren\",nodes:[]}),a.push(o),p({type:\"text\",value:r});else{let t;for(l++;d<c&&(t=f());)if(r+=t,t!==de)if(t!==ie){if(t===ue&&0==--l)break}else r+=f();else l++;p({type:\"text\",value:r})}else p({type:\"text\",value:\"\\\\\"+r});else p({type:\"text\",value:(e.keepEscaping?r:\"\")+f()});do{if(\"root\"!==(o=a.pop()).type){o.nodes.forEach(t=>{t.nodes||(\"open\"===t.type&&(t.isOpen=!0),\"close\"===t.type&&(t.isClose=!0),t.nodes||(t.type=\"text\"),t.invalid=!0)});let t=a[a.length-1],e=t.nodes.indexOf(o);t.nodes.splice(e,1,...o.nodes)}}while(a.length>0);return p({type:\"eos\"}),n},ve=(t,e={})=>{let s=[];if(Array.isArray(t))for(let i of t){let t=ve.create(i,e);Array.isArray(t)?s.push(...t):s.push(t)}else s=[].concat(ve.create(t,e));return e&&!0===e.expand&&!0===e.nodupes&&(s=[...new Set(s)]),s};ve.parse=((t,e={})=>ye(t,e)),ve.stringify=((t,e={})=>we(\"string\"==typeof t?ve.parse(t,e):t,e)),ve.compile=((t,e={})=>(\"string\"==typeof t&&(t=ve.parse(t,e)),ge(t,e))),ve.expand=((t,e={})=>{\"string\"==typeof t&&(t=ve.parse(t,e));let s=Ee(t,e);return!0===e.noempty&&(s=s.filter(Boolean)),!0===e.nodupes&&(s=[...new Set(s)]),s}),ve.create=((t,e={})=>\"\"===t||t.length<3?[t]:!0!==e.expand?ve.compile(t,e):ve.expand(t,e));var Re=ve,Ae={exports:{}};Ae.exports=[\"3dm\",\"3ds\",\"3g2\",\"3gp\",\"7z\",\"a\",\"aac\",\"adp\",\"ai\",\"aif\",\"aiff\",\"alz\",\"ape\",\"apk\",\"appimage\",\"ar\",\"arj\",\"asf\",\"au\",\"avi\",\"bak\",\"baml\",\"bh\",\"bin\",\"bk\",\"bmp\",\"btif\",\"bz2\",\"bzip2\",\"cab\",\"caf\",\"cgm\",\"class\",\"cmx\",\"cpio\",\"cr2\",\"cur\",\"dat\",\"dcm\",\"deb\",\"dex\",\"djvu\",\"dll\",\"dmg\",\"dng\",\"doc\",\"docm\",\"docx\",\"dot\",\"dotm\",\"dra\",\"DS_Store\",\"dsk\",\"dts\",\"dtshd\",\"dvb\",\"dwg\",\"dxf\",\"ecelp4800\",\"ecelp7470\",\"ecelp9600\",\"egg\",\"eol\",\"eot\",\"epub\",\"exe\",\"f4v\",\"fbs\",\"fh\",\"fla\",\"flac\",\"flatpak\",\"fli\",\"flv\",\"fpx\",\"fst\",\"fvt\",\"g3\",\"gh\",\"gif\",\"graffle\",\"gz\",\"gzip\",\"h261\",\"h263\",\"h264\",\"icns\",\"ico\",\"ief\",\"img\",\"ipa\",\"iso\",\"jar\",\"jpeg\",\"jpg\",\"jpgv\",\"jpm\",\"jxr\",\"key\",\"ktx\",\"lha\",\"lib\",\"lvp\",\"lz\",\"lzh\",\"lzma\",\"lzo\",\"m3u\",\"m4a\",\"m4v\",\"mar\",\"mdi\",\"mht\",\"mid\",\"midi\",\"mj2\",\"mka\",\"mkv\",\"mmr\",\"mng\",\"mobi\",\"mov\",\"movie\",\"mp3\",\"mp4\",\"mp4a\",\"mpeg\",\"mpg\",\"mpga\",\"mxu\",\"nef\",\"npx\",\"numbers\",\"nupkg\",\"o\",\"odp\",\"ods\",\"odt\",\"oga\",\"ogg\",\"ogv\",\"otf\",\"ott\",\"pages\",\"pbm\",\"pcx\",\"pdb\",\"pdf\",\"pea\",\"pgm\",\"pic\",\"png\",\"pnm\",\"pot\",\"potm\",\"potx\",\"ppa\",\"ppam\",\"ppm\",\"pps\",\"ppsm\",\"ppsx\",\"ppt\",\"pptm\",\"pptx\",\"psd\",\"pya\",\"pyc\",\"pyo\",\"pyv\",\"qt\",\"rar\",\"ras\",\"raw\",\"resources\",\"rgb\",\"rip\",\"rlc\",\"rmf\",\"rmvb\",\"rpm\",\"rtf\",\"rz\",\"s3m\",\"s7z\",\"scpt\",\"sgi\",\"shar\",\"snap\",\"sil\",\"sketch\",\"slk\",\"smv\",\"snk\",\"so\",\"stl\",\"suo\",\"sub\",\"swf\",\"tar\",\"tbz\",\"tbz2\",\"tga\",\"tgz\",\"thmx\",\"tif\",\"tiff\",\"tlz\",\"ttc\",\"ttf\",\"txz\",\"udf\",\"uvh\",\"uvi\",\"uvm\",\"uvp\",\"uvs\",\"uvu\",\"viv\",\"vob\",\"war\",\"wav\",\"wax\",\"wbmp\",\"wdp\",\"weba\",\"webm\",\"webp\",\"whl\",\"wim\",\"wm\",\"wma\",\"wmv\",\"wmx\",\"woff\",\"woff2\",\"wrm\",\"wvx\",\"xbm\",\"xif\",\"xla\",\"xlam\",\"xls\",\"xlsb\",\"xlsm\",\"xlsx\",\"xlt\",\"xltm\",\"xltx\",\"xm\",\"xmind\",\"xpi\",\"xpm\",\"xwd\",\"xz\",\"z\",\"zip\",\"zipx\"];const be=r.a,Se=new Set(Ae.exports);var Te={};!function(e){const{sep:s}=r.a,{platform:i}=t,n=l.a;e.EV_ALL=\"all\",e.EV_READY=\"ready\",e.EV_ADD=\"add\",e.EV_CHANGE=\"change\",e.EV_ADD_DIR=\"addDir\",e.EV_UNLINK=\"unlink\",e.EV_UNLINK_DIR=\"unlinkDir\",e.EV_RAW=\"raw\",e.EV_ERROR=\"error\",e.STR_DATA=\"data\",e.STR_END=\"end\",e.STR_CLOSE=\"close\",e.FSEVENT_CREATED=\"created\",e.FSEVENT_MODIFIED=\"modified\",e.FSEVENT_DELETED=\"deleted\",e.FSEVENT_MOVED=\"moved\",e.FSEVENT_CLONED=\"cloned\",e.FSEVENT_UNKNOWN=\"unknown\",e.FSEVENT_TYPE_FILE=\"file\",e.FSEVENT_TYPE_DIRECTORY=\"directory\",e.FSEVENT_TYPE_SYMLINK=\"symlink\",e.KEY_LISTENERS=\"listeners\",e.KEY_ERR=\"errHandlers\",e.KEY_RAW=\"rawEmitters\",e.HANDLER_KEYS=[e.KEY_LISTENERS,e.KEY_ERR,e.KEY_RAW],e.DOT_SLASH=`.${s}`,e.BACK_SLASH_RE=/\\\\/g,e.DOUBLE_SLASH_RE=/\\/\\//,e.SLASH_OR_BACK_SLASH_RE=/[/\\\\]/,e.DOT_RE=/\\..*\\.(sw[px])$|~$|\\.subl.*\\.tmp/,e.REPLACER_RE=/^\\.[/\\\\]/,e.SLASH=\"/\",e.SLASH_SLASH=\"//\",e.BRACE_START=\"{\",e.BANG=\"!\",e.ONE_DOT=\".\",e.TWO_DOTS=\"..\",e.STAR=\"*\",e.GLOBSTAR=\"**\",e.ROOT_GLOBSTAR=\"/**/*\",e.SLASH_GLOBSTAR=\"/**\",e.DIR_SUFFIX=\"Dir\",e.ANYMATCH_OPTS={dot:!0},e.STRING_TYPE=\"string\",e.FUNCTION_TYPE=\"function\",e.EMPTY_STR=\"\",e.EMPTY_FN=(()=>{}),e.IDENTITY_FN=(t=>t),e.isWindows=\"win32\"===i,e.isMacos=\"darwin\"===i,e.isLinux=\"linux\"===i,e.isIBMi=\"OS400\"===n.type()}(Te);const Ce=d.a,xe=r.a,{promisify:Pe}=f.a,De=t=>Se.has(be.extname(t).slice(1).toLowerCase()),{isWindows:Ie,isLinux:Oe,EMPTY_FN:Fe,EMPTY_STR:Ne,KEY_LISTENERS:ke,KEY_ERR:He,KEY_RAW:Le,HANDLER_KEYS:We,EV_CHANGE:Me,EV_ADD:je,EV_ADD_DIR:Be,EV_ERROR:Ue,STR_DATA:Ge,STR_END:Ve,BRACE_START:Ke,STAR:$e}=Te,Ye=\"watch\",ze=Pe(Ce.open),Qe=Pe(Ce.stat),Ze=Pe(Ce.lstat),qe=Pe(Ce.close),Xe=Pe(Ce.realpath),Je={lstat:Ze,stat:Qe},ts=(t,e)=>{t instanceof Set?t.forEach(e):e(t)},es=(t,e,s)=>{let i=t[e];i instanceof Set||(t[e]=i=new Set([i])),i.add(s)},ss=(t,e,s)=>{const i=t[e];i instanceof Set?i.delete(s):i===s&&delete t[e]},is=t=>t instanceof Set?0===t.size:!t,rs=new Map;function ns(t,e,s,i,r){const n=(e,i)=>{s(t),r(e,i,{watchedPath:t}),i&&t!==i&&as(xe.resolve(t,i),ke,xe.join(t,i))};try{return Ce.watch(t,e,n)}catch(t){i(t)}}const as=(t,e,s,i,r)=>{const n=rs.get(t);n&&ts(n[e],t=>{t(s,i,r)})},os=(t,e,s,i)=>{const{listener:r,errHandler:n,rawEmitter:a}=i;let o,h=rs.get(e);if(!s.persistent)return(o=ns(t,s,r,n,a)).close.bind(o);if(h)es(h,ke,r),es(h,He,n),es(h,Le,a);else{if(!(o=ns(t,s,as.bind(null,e,ke),n,as.bind(null,e,Le))))return;o.on(Ue,async s=>{const i=as.bind(null,e,He);if(h.watcherUnusable=!0,Ie&&\"EPERM\"===s.code)try{const e=await ze(t,\"r\");await qe(e),i(s)}catch(t){}else i(s)}),h={listeners:r,errHandlers:n,rawEmitters:a,watcher:o},rs.set(e,h)}return()=>{ss(h,ke,r),ss(h,He,n),ss(h,Le,a),is(h.listeners)&&(h.watcher.close(),rs.delete(e),We.forEach((t=>e=>{const s=t[e];s instanceof Set?s.clear():delete t[e]})(h)),h.watcher=void 0,Object.freeze(h))}},hs=new Map,ls=(t,e,s,i)=>{const{listener:r,rawEmitter:n}=i;let a=hs.get(e);const o=a&&a.options;return o&&(o.persistent<s.persistent||o.interval>s.interval)&&(Ce.unwatchFile(e),a=void 0),a?(es(a,ke,r),es(a,Le,n)):(a={listeners:r,rawEmitters:n,options:s,watcher:Ce.watchFile(e,s,(s,i)=>{ts(a.rawEmitters,t=>{t(Me,e,{curr:s,prev:i})});const r=s.mtimeMs;(s.size!==i.size||r>i.mtimeMs||0===r)&&ts(a.listeners,e=>e(t,s))})},hs.set(e,a)),()=>{ss(a,ke,r),ss(a,Le,n),is(a.listeners)&&(hs.delete(e),Ce.unwatchFile(e),a.options=a.watcher=void 0,Object.freeze(a))}};var cs=class{constructor(t){this.fsw=t,this._boundHandleError=(e=>t._handleError(e))}_watchWithNodeFs(t,e){const s=this.fsw.options,i=xe.dirname(t),r=xe.basename(t);this.fsw._getWatchedDir(i).add(r);const n=xe.resolve(t),a={persistent:s.persistent};let o;return e||(e=Fe),s.usePolling?(a.interval=s.enableBinaryInterval&&De(r)?s.binaryInterval:s.interval,o=ls(t,n,a,{listener:e,rawEmitter:this.fsw._emitRaw})):o=os(t,n,a,{listener:e,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),o}_handleFile(t,e,s){if(this.fsw.closed)return;const i=xe.dirname(t),r=xe.basename(t),n=this.fsw._getWatchedDir(i);let a=e;if(n.has(r))return;const o=async(e,s)=>{if(this.fsw._throttle(Ye,t,5))if(s&&0!==s.mtimeMs){if(n.has(r)){const e=s.atimeMs,i=s.mtimeMs;(!e||e<=i||i!==a.mtimeMs)&&this.fsw._emit(Me,t,s),a=s}}else try{const s=await Qe(t);if(this.fsw.closed)return;const n=s.atimeMs,h=s.mtimeMs;(!n||n<=h||h!==a.mtimeMs)&&this.fsw._emit(Me,t,s),Oe&&a.ino!==s.ino?(this.fsw._closeFile(e),a=s,this.fsw._addPathCloser(e,this._watchWithNodeFs(t,o))):a=s}catch(t){this.fsw._remove(i,r)}},h=this._watchWithNodeFs(t,o);if((!s||!this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(t)){if(!this.fsw._throttle(je,t,0))return;this.fsw._emit(je,t,e)}return h}async _handleSymlink(t,e,s,i){if(this.fsw.closed)return;const r=t.fullPath,n=this.fsw._getWatchedDir(e);if(!this.fsw.options.followSymlinks){let e;this.fsw._incrReadyCount();try{e=await Xe(s)}catch(t){return this.fsw._emitReady(),!0}if(this.fsw.closed)return;return n.has(i)?this.fsw._symlinkPaths.get(r)!==e&&(this.fsw._symlinkPaths.set(r,e),this.fsw._emit(Me,s,t.stats)):(n.add(i),this.fsw._symlinkPaths.set(r,e),this.fsw._emit(je,s,t.stats)),this.fsw._emitReady(),!0}if(this.fsw._symlinkPaths.has(r))return!0;this.fsw._symlinkPaths.set(r,!0)}_handleRead(t,e,s,i,r,n,a){if(t=xe.join(t,Ne),!s.hasGlob&&!(a=this.fsw._throttle(\"readdir\",t,1e3)))return;const o=this.fsw._getWatchedDir(s.path),h=new Set;let l=this.fsw._readdirp(t,{fileFilter:t=>s.filterPath(t),directoryFilter:t=>s.filterDir(t),depth:0}).on(Ge,async a=>{if(this.fsw.closed)return void(l=void 0);const c=a.path;let d=xe.join(t,c);h.add(c),a.stats.isSymbolicLink()&&await this._handleSymlink(a,t,d,c)||(this.fsw.closed?l=void 0:c!==i&&(i||o.has(c))||(this.fsw._incrReadyCount(),d=xe.join(r,xe.relative(r,d)),this._addToNodeFs(d,e,s,n+1)))}).on(Ue,this._boundHandleError);return new Promise(e=>l.once(Ve,()=>{if(this.fsw.closed)return void(l=void 0);const c=!!a&&a.clear();e(),o.getChildren().filter(e=>e!==t&&!h.has(e)&&(!s.hasGlob||s.filterPath({fullPath:xe.resolve(t,e)}))).forEach(e=>{this.fsw._remove(t,e)}),l=void 0,c&&this._handleRead(t,!1,s,i,r,n,a)}))}async _handleDir(t,e,s,i,r,n,a){const o=this.fsw._getWatchedDir(xe.dirname(t)),h=o.has(xe.basename(t));let l;s&&this.fsw.options.ignoreInitial||r||h||n.hasGlob&&!n.globFilter(t)||this.fsw._emit(Be,t,e),o.add(xe.basename(t)),this.fsw._getWatchedDir(t);const c=this.fsw.options.depth;if((null==c||i<=c)&&!this.fsw._symlinkPaths.has(a)){if(!r&&(await this._handleRead(t,s,n,r,t,i,void 0),this.fsw.closed))return;l=this._watchWithNodeFs(t,(e,s)=>{s&&0===s.mtimeMs||this._handleRead(e,!1,n,r,t,i,void 0)})}return l}async _addToNodeFs(t,e,s,i,r){const n=this.fsw._emitReady;if(this.fsw._isIgnored(t)||this.fsw.closed)return n(),!1;const a=this.fsw._getWatchHelpers(t,i);!a.hasGlob&&s&&(a.hasGlob=s.hasGlob,a.globFilter=s.globFilter,a.filterPath=(t=>s.filterPath(t)),a.filterDir=(t=>s.filterDir(t)));try{const s=await Je[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,s))return n(),!1;const o=this.fsw.options.followSymlinks&&!t.includes($e)&&!t.includes(Ke);let h;if(s.isDirectory()){const n=xe.resolve(t),l=o?await Xe(t):t;if(this.fsw.closed)return;if(h=await this._handleDir(a.watchPath,s,e,i,r,a,l),this.fsw.closed)return;n!==l&&void 0!==l&&this.fsw._symlinkPaths.set(n,l)}else if(s.isSymbolicLink()){const r=o?await Xe(t):t;if(this.fsw.closed)return;const n=xe.dirname(a.watchPath);if(this.fsw._getWatchedDir(n).add(a.watchPath),this.fsw._emit(je,a.watchPath,s),h=await this._handleDir(n,s,e,i,t,a,r),this.fsw.closed)return;void 0!==r&&this.fsw._symlinkPaths.set(xe.resolve(t),r)}else h=this._handleFile(a.watchPath,s,e);return n(),this.fsw._addPathCloser(t,h),!1}catch(e){if(this.fsw._handleError(e))return n(),t}}},ds={exports:{}};const us=Object(o.g)(o.e),fs=d.a,ps=r.a,{promisify:ms}=f.a;let _s;try{_s=us.getFsEvents()}catch(e){t.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(e)}if(_s){const e=t.version.match(/v(\\d+)\\.(\\d+)/);if(e&&e[1]&&e[2]){const t=Number.parseInt(e[1],10),s=Number.parseInt(e[2],10);8===t&&s<16&&(_s=void 0)}}const{EV_ADD:ws,EV_CHANGE:gs,EV_ADD_DIR:Es,EV_UNLINK:ys,EV_ERROR:vs,STR_DATA:Rs,STR_END:As,FSEVENT_CREATED:bs,FSEVENT_MODIFIED:Ss,FSEVENT_DELETED:Ts,FSEVENT_MOVED:Cs,FSEVENT_UNKNOWN:xs,FSEVENT_TYPE_FILE:Ps,FSEVENT_TYPE_DIRECTORY:Ds,FSEVENT_TYPE_SYMLINK:Is,ROOT_GLOBSTAR:Os,DIR_SUFFIX:Fs,DOT_SLASH:Ns,FUNCTION_TYPE:ks,EMPTY_FN:Hs,IDENTITY_FN:Ls}=Te,Ws=t=>isNaN(t)?{}:{depth:t},Ms=ms(fs.stat),js=ms(fs.lstat),Bs=ms(fs.realpath),Us={stat:Ms,lstat:js},Gs=new Map,Vs=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),Ks=(t,e)=>{return{stop:_s.watch(t,e)}};const $s=t=>{let e=0;for(const s of Gs.keys())if(0===s.indexOf(t)&&++e>=10)return!0;return!1},Ys=(t,e)=>{let s=0;for(;!t.indexOf(e)&&(t=ps.dirname(t))!==e;)s++;return s},zs=(t,e)=>t.type===Ds&&e.isDirectory()||t.type===Is&&e.isSymbolicLink()||t.type===Ps&&e.isFile();ds.exports=class{constructor(t){this.fsw=t}checkIgnored(t,e){const s=this.fsw._ignoredPaths;if(this.fsw._isIgnored(t,e))return s.add(t),e&&e.isDirectory()&&s.add(t+Os),!0;s.delete(t),s.delete(t+Os)}addOrChange(t,e,s,i,r,n,a,o){const h=r.has(n)?gs:ws;this.handleEvent(h,t,e,s,i,r,n,a,o)}async checkExists(t,e,s,i,r,n,a,o){try{const h=await Ms(t);if(this.fsw.closed)return;zs(a,h)?this.addOrChange(t,e,s,i,r,n,a,o):this.handleEvent(ys,t,e,s,i,r,n,a,o)}catch(h){\"EACCES\"===h.code?this.addOrChange(t,e,s,i,r,n,a,o):this.handleEvent(ys,t,e,s,i,r,n,a,o)}}handleEvent(t,e,s,i,r,n,a,o,h){if(!this.fsw.closed&&!this.checkIgnored(e))if(t===ys){const t=o.type===Ds;(t||n.has(a))&&this.fsw._remove(r,a,t)}else{if(t===ws){if(o.type===Ds&&this.fsw._getWatchedDir(e),o.type===Is&&h.followSymlinks){const t=void 0===h.depth?void 0:Ys(s,i)+1;return this._addToFsEvents(e,!1,!0,t)}this.fsw._getWatchedDir(r).add(a)}const n=o.type===Ds?t+Fs:t;this.fsw._emit(n,e),n===Es&&this._addToFsEvents(e,!1,!0)}}_watchWithFsEvents(t,e,s,i){if(this.fsw.closed||this.fsw._isIgnored(t))return;const r=this.fsw.options,n=function(t,e,s,i){let r=ps.extname(e)?ps.dirname(e):e;const n=ps.dirname(r);let a=Gs.get(r);$s(n)&&(r=n);const o=ps.resolve(t),h=o!==e,l=(t,i,r)=>{h&&(t=t.replace(e,o)),t!==o&&t.indexOf(o+ps.sep)||s(t,i,r)};let c=!1;for(const t of Gs.keys())if(0===e.indexOf(ps.resolve(t)+ps.sep)){r=t,a=Gs.get(r),c=!0;break}return a||c?a.listeners.add(l):(a={listeners:new Set([l]),rawEmitter:i,watcher:Ks(r,(t,e)=>{if(!a.listeners.size)return;const s=_s.getInfo(t,e);a.listeners.forEach(i=>{i(t,e,s)}),a.rawEmitter(s.event,t,s)})},Gs.set(r,a)),()=>{const t=a.listeners;if(t.delete(l),!t.size&&(Gs.delete(r),a.watcher))return a.watcher.stop().then(()=>{a.rawEmitter=a.watcher=void 0,Object.freeze(a)})}}(t,e,async(n,a,o)=>{if(this.fsw.closed)return;if(void 0!==r.depth&&Ys(n,e)>r.depth)return;const h=s(ps.join(t,ps.relative(t,n)));if(i&&!i(h))return;const l=ps.dirname(h),c=ps.basename(h),d=this.fsw._getWatchedDir(o.type===Ds?h:l);if(Vs.has(a)||o.event===xs)if(typeof r.ignored===ks){let t;try{t=await Ms(h)}catch(t){}if(this.fsw.closed)return;if(this.checkIgnored(h,t))return;zs(o,t)?this.addOrChange(h,n,e,l,d,c,o,r):this.handleEvent(ys,h,n,e,l,d,c,o,r)}else this.checkExists(h,n,e,l,d,c,o,r);else switch(o.event){case bs:case Ss:return this.addOrChange(h,n,e,l,d,c,o,r);case Ts:case Cs:return this.checkExists(h,n,e,l,d,c,o,r)}},this.fsw._emitRaw);return this.fsw._emitReady(),n}async _handleFsEventsSymlink(t,e,s,i){if(!this.fsw.closed&&!this.fsw._symlinkPaths.has(e)){this.fsw._symlinkPaths.set(e,!0),this.fsw._incrReadyCount();try{const e=await Bs(t);if(this.fsw.closed)return;if(this.fsw._isIgnored(e))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(e||t,i=>{let r=t;return e&&e!==Ns?r=i.replace(e,t):i!==Ns&&(r=ps.join(t,i)),s(r)},!1,i)}catch(t){if(this.fsw._handleError(t))return this.fsw._emitReady()}}}emitAdd(t,e,s,i,r){const n=s(t),a=e.isDirectory(),o=this.fsw._getWatchedDir(ps.dirname(n)),h=ps.basename(n);a&&this.fsw._getWatchedDir(n),o.has(h)||(o.add(h),i.ignoreInitial&&!0!==r||this.fsw._emit(a?Es:ws,n,e))}initWatch(t,e,s,i){if(this.fsw.closed)return;const r=this._watchWithFsEvents(s.watchPath,ps.resolve(t||s.watchPath),i,s.globFilter);this.fsw._addPathCloser(e,r)}async _addToFsEvents(t,e,s,i){if(this.fsw.closed)return;const r=this.fsw.options,n=typeof e===ks?e:Ls,a=this.fsw._getWatchHelpers(t);try{const e=await Us[a.statMethod](a.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(a.watchPath,e))throw null;if(e.isDirectory()){if(a.globFilter||this.emitAdd(n(t),e,n,r,s),i&&i>r.depth)return;this.fsw._readdirp(a.watchPath,{fileFilter:t=>a.filterPath(t),directoryFilter:t=>a.filterDir(t),...Ws(r.depth-(i||0))}).on(Rs,t=>{if(this.fsw.closed)return;if(t.stats.isDirectory()&&!a.filterPath(t))return;const e=ps.join(a.watchPath,t.path),{fullPath:i}=t;if(a.followSymlinks&&t.stats.isSymbolicLink()){const t=void 0===r.depth?void 0:Ys(e,ps.resolve(a.watchPath))+1;this._handleFsEventsSymlink(e,i,n,t)}else this.emitAdd(e,t.stats,n,r,s)}).on(vs,Hs).on(As,()=>{this.fsw._emitReady()})}else this.emitAdd(a.watchPath,e,n,r,s),this.fsw._emitReady()}catch(t){t&&!this.fsw._handleError(t)||(this.fsw._emitReady(),this.fsw._emitReady())}if(r.persistent&&!0!==s)if(typeof e===ks)this.initWatch(void 0,t,a,n);else{let e;try{e=await Bs(a.watchPath)}catch(t){}this.initWatch(e,t,a,n)}}},ds.exports.canUse=(()=>_s&&Gs.size<128);const{EventEmitter:Qs}=w.a,Zs=d.a,qs=r.a,{promisify:Xs}=f.a,Js=Q,ti=Z.exports.default,ei=function(t,e){Object.assign({flipBackslashes:!0},e).flipBackslashes&&dt&&t.indexOf(\"/\")<0&&(t=t.replace(ut,\"/\")),ft.test(t)&&(t+=\"/\"),t+=\"a\";do{t=ct(t)}while(lt(t)||pt.test(t));return t.replace(mt,\"$1\")},si=ht,ii=Re,ri=q,ni=cs,ai=ds.exports,{EV_ALL:oi,EV_READY:hi,EV_ADD:li,EV_CHANGE:ci,EV_UNLINK:di,EV_ADD_DIR:ui,EV_UNLINK_DIR:fi,EV_RAW:pi,EV_ERROR:mi,STR_CLOSE:_i,STR_END:wi,BACK_SLASH_RE:gi,DOUBLE_SLASH_RE:Ei,SLASH_OR_BACK_SLASH_RE:yi,DOT_RE:vi,REPLACER_RE:Ri,SLASH:Ai,SLASH_SLASH:bi,BRACE_START:Si,BANG:Ti,ONE_DOT:Ci,TWO_DOTS:xi,GLOBSTAR:Pi,SLASH_GLOBSTAR:Di,ANYMATCH_OPTS:Ii,STRING_TYPE:Oi,FUNCTION_TYPE:Fi,EMPTY_STR:Ni,EMPTY_FN:ki,isWindows:Hi,isMacos:Li,isIBMi:Wi}=Te,Mi=Xs(Zs.stat),ji=Xs(Zs.readdir),Bi=(t=[])=>Array.isArray(t)?t:[t],Ui=(t,e=[])=>(t.forEach(t=>{Array.isArray(t)?Ui(t,e):e.push(t)}),e),Gi=t=>{const e=Ui(Bi(t));if(!e.every(t=>typeof t===Oi))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(Ki)},Vi=t=>{let e=t.replace(gi,Ai),s=!1;for(e.startsWith(bi)&&(s=!0);e.match(Ei);)e=e.replace(Ei,Ai);return s&&(e=Ai+e),e},Ki=t=>Vi(qs.normalize(Vi(t))),$i=(t=Ni)=>e=>typeof e!==Oi?e:Ki(qs.isAbsolute(e)?e:qs.join(t,e)),Yi=(t,e)=>qs.isAbsolute(t)?t:t.startsWith(Ti)?Ti+qs.join(e,t.slice(1)):qs.join(e,t),zi=(t,e)=>void 0===t[e];class Qi{constructor(t,e){this.path=t,this._removeWatcher=e,this.items=new Set}add(t){const{items:e}=this;e&&t!==Ci&&t!==xi&&e.add(t)}async remove(t){const{items:e}=this;if(!e)return;if(e.delete(t),e.size>0)return;const s=this.path;try{await ji(s)}catch(t){this._removeWatcher&&this._removeWatcher(qs.dirname(s),qs.basename(s))}}has(t){const{items:e}=this;if(e)return e.has(t)}getChildren(){const{items:t}=this;if(t)return[...t.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}const Zi=\"stat\",qi=\"lstat\";class Xi{constructor(t,e,s,i){this.fsw=i,this.path=t=t.replace(Ri,Ni),this.watchPath=e,this.fullWatchPath=qs.resolve(e),this.hasGlob=e!==t,t===Ni&&(this.hasGlob=!1),this.globSymlink=!(!this.hasGlob||!s)&&void 0,this.globFilter=!!this.hasGlob&&ti(t,void 0,Ii),this.dirParts=this.getDirParts(t),this.dirParts.forEach(t=>{t.length>1&&t.pop()}),this.followSymlinks=s,this.statMethod=s?Zi:qi}checkGlobSymlink(t){return void 0===this.globSymlink&&(this.globSymlink=t.fullParentDir!==this.fullWatchPath&&{realPath:t.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?t.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):t.fullPath}entryPath(t){return qs.join(this.watchPath,qs.relative(this.watchPath,this.checkGlobSymlink(t)))}filterPath(t){const{stats:e}=t;if(e&&e.isSymbolicLink())return this.filterDir(t);const s=this.entryPath(t);return(!this.hasGlob||typeof this.globFilter!==Fi||this.globFilter(s))&&this.fsw._isntIgnored(s,e)&&this.fsw._hasReadPermissions(e)}getDirParts(t){if(!this.hasGlob)return[];const e=[];return(t.includes(Si)?ii.expand(t):[t]).forEach(t=>{e.push(qs.relative(this.watchPath,t).split(yi))}),e}filterDir(t){if(this.hasGlob){const e=this.getDirParts(this.checkGlobSymlink(t));let s=!1;this.unmatchedGlob=!this.dirParts.some(t=>t.every((t,i)=>(t===Pi&&(s=!0),s||!e[0][i]||ti(t,e[0][i],Ii))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(t),t.stats)}}class Ji extends Qs{constructor(e){super();const s={};e&&Object.assign(s,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,zi(s,\"persistent\")&&(s.persistent=!0),zi(s,\"ignoreInitial\")&&(s.ignoreInitial=!1),zi(s,\"ignorePermissionErrors\")&&(s.ignorePermissionErrors=!1),zi(s,\"interval\")&&(s.interval=100),zi(s,\"binaryInterval\")&&(s.binaryInterval=300),zi(s,\"disableGlobbing\")&&(s.disableGlobbing=!1),s.enableBinaryInterval=s.binaryInterval!==s.interval,zi(s,\"useFsEvents\")&&(s.useFsEvents=!s.usePolling),ai.canUse()||(s.useFsEvents=!1),zi(s,\"usePolling\")&&!s.useFsEvents&&(s.usePolling=Li),Wi&&(s.usePolling=!0);const i=t.env.CHOKIDAR_USEPOLLING;if(void 0!==i){const t=i.toLowerCase();s.usePolling=\"false\"!==t&&\"0\"!==t&&(\"true\"===t||\"1\"===t||!!t)}const r=t.env.CHOKIDAR_INTERVAL;r&&(s.interval=Number.parseInt(r,10)),zi(s,\"atomic\")&&(s.atomic=!s.usePolling&&!s.useFsEvents),s.atomic&&(this._pendingUnlinks=new Map),zi(s,\"followSymlinks\")&&(s.followSymlinks=!0),zi(s,\"awaitWriteFinish\")&&(s.awaitWriteFinish=!1),!0===s.awaitWriteFinish&&(s.awaitWriteFinish={});const n=s.awaitWriteFinish;n&&(n.stabilityThreshold||(n.stabilityThreshold=2e3),n.pollInterval||(n.pollInterval=100),this._pendingWrites=new Map),s.ignored&&(s.ignored=Bi(s.ignored));let a=0;this._emitReady=(()=>{++a>=this._readyCount&&(this._emitReady=ki,this._readyEmitted=!0,t.nextTick(()=>this.emit(hi)))}),this._emitRaw=((...t)=>this.emit(pi,...t)),this._readyEmitted=!1,this.options=s,s.useFsEvents?this._fsEventsHandler=new ai(this):this._nodeFsHandler=new ni(this),Object.freeze(s)}add(t,e,s){const{cwd:i,disableGlobbing:r}=this.options;this.closed=!1;let n=Gi(t);return i&&(n=n.map(t=>{const e=Yi(t,i);return r||!si(t)?e:ri(e)})),n=n.filter(t=>t.startsWith(Ti)?(this._ignoredPaths.add(t.slice(1)),!1):(this._ignoredPaths.delete(t),this._ignoredPaths.delete(t+Di),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=n.length),this.options.persistent&&(this._readyCount*=2),n.forEach(t=>this._fsEventsHandler._addToFsEvents(t))):(this._readyCount||(this._readyCount=0),this._readyCount+=n.length,Promise.all(n.map(async t=>{const i=await this._nodeFsHandler._addToNodeFs(t,!s,0,0,e);return i&&this._emitReady(),i})).then(t=>{this.closed||t.filter(t=>t).forEach(t=>{this.add(qs.dirname(t),qs.basename(e||t))})})),this}unwatch(t){if(this.closed)return this;const e=Gi(t),{cwd:s}=this.options;return e.forEach(t=>{qs.isAbsolute(t)||this._closers.has(t)||(s&&(t=qs.join(s,t)),t=qs.resolve(t)),this._closePath(t),this._ignoredPaths.add(t),this._watched.has(t)&&this._ignoredPaths.add(t+Di),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();const t=[];return this._closers.forEach(e=>e.forEach(e=>{const s=e();s instanceof Promise&&t.push(s)})),this._streams.forEach(t=>t.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(t=>t.dispose()),[\"closers\",\"watched\",\"streams\",\"symlinkPaths\",\"throttled\"].forEach(t=>{this[`_${t}`].clear()}),this._closePromise=t.length?Promise.all(t).then(()=>void 0):Promise.resolve(),this._closePromise}getWatched(){const t={};return this._watched.forEach((e,s)=>{const i=this.options.cwd?qs.relative(this.options.cwd,s):s;t[i||Ci]=e.getChildren().sort()}),t}emitWithAll(t,e){this.emit(...e),t!==mi&&this.emit(oi,...e)}async _emit(t,e,s,i,r){if(this.closed)return;const n=this.options;Hi&&(e=qs.normalize(e)),n.cwd&&(e=qs.relative(n.cwd,e));const a=[t,e];void 0!==r?a.push(s,i,r):void 0!==i?a.push(s,i):void 0!==s&&a.push(s);const o=n.awaitWriteFinish;let h;if(o&&(h=this._pendingWrites.get(e)))return h.lastChange=new Date,this;if(n.atomic){if(t===di)return this._pendingUnlinks.set(e,a),setTimeout(()=>{this._pendingUnlinks.forEach((t,e)=>{this.emit(...t),this.emit(oi,...t),this._pendingUnlinks.delete(e)})},\"number\"==typeof n.atomic?n.atomic:100),this;t===li&&this._pendingUnlinks.has(e)&&(t=a[0]=ci,this._pendingUnlinks.delete(e))}if(o&&(t===li||t===ci)&&this._readyEmitted){const s=(e,s)=>{e?(t=a[0]=mi,a[1]=e,this.emitWithAll(t,a)):s&&(a.length>2?a[2]=s:a.push(s),this.emitWithAll(t,a))};return this._awaitWriteFinish(e,o.stabilityThreshold,t,s),this}if(t===ci){if(!this._throttle(ci,e,50))return this}if(n.alwaysStat&&void 0===s&&(t===li||t===ui||t===ci)){const t=n.cwd?qs.join(n.cwd,e):e;let s;try{s=await Mi(t)}catch(t){}if(!s||this.closed)return;a.push(s)}return this.emitWithAll(t,a),this}_handleError(t){const e=t&&t.code;return t&&\"ENOENT\"!==e&&\"ENOTDIR\"!==e&&(!this.options.ignorePermissionErrors||\"EPERM\"!==e&&\"EACCES\"!==e)&&this.emit(mi,t),t||this.closed}_throttle(t,e,s){this._throttled.has(t)||this._throttled.set(t,new Map);const i=this._throttled.get(t),r=i.get(e);if(r)return r.count++,!1;let n;const a=()=>{const t=i.get(e),s=t?t.count:0;return i.delete(e),clearTimeout(n),t&&clearTimeout(t.timeoutObject),s},o={timeoutObject:n=setTimeout(a,s),clear:a,count:0};return i.set(e,o),o}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(t,e,s,i){let r,n=t;this.options.cwd&&!qs.isAbsolute(t)&&(n=qs.join(this.options.cwd,t));const a=new Date,o=s=>{Zs.stat(n,(n,a)=>{if(n||!this._pendingWrites.has(t))return void(n&&\"ENOENT\"!==n.code&&i(n));const h=Number(new Date);s&&a.size!==s.size&&(this._pendingWrites.get(t).lastChange=h),h-this._pendingWrites.get(t).lastChange>=e?(this._pendingWrites.delete(t),i(void 0,a)):r=setTimeout(o,this.options.awaitWriteFinish.pollInterval,a)})};this._pendingWrites.has(t)||(this._pendingWrites.set(t,{lastChange:a,cancelWait:()=>(this._pendingWrites.delete(t),clearTimeout(r),s)}),r=setTimeout(o,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(t,e){if(this.options.atomic&&vi.test(t))return!0;if(!this._userIgnored){const{cwd:t}=this.options,e=this.options.ignored,s=e&&e.map($i(t)),i=Bi(s).filter(t=>typeof t===Oi&&!si(t)).map(t=>t+Di),r=this._getGlobIgnored().map($i(t)).concat(s,i);this._userIgnored=ti(r,void 0,Ii)}return this._userIgnored([t,e])}_isntIgnored(t,e){return!this._isIgnored(t,e)}_getWatchHelpers(t,e){const s=e||this.options.disableGlobbing||!si(t)?t:ei(t),i=this.options.followSymlinks;return new Xi(t,s,i,this)}_getWatchedDir(t){this._boundRemove||(this._boundRemove=this._remove.bind(this));const e=qs.resolve(t);return this._watched.has(e)||this._watched.set(e,new Qi(e,this._boundRemove)),this._watched.get(e)}_hasReadPermissions(t){if(this.options.ignorePermissionErrors)return!0;const e=511&(t&&Number.parseInt(t.mode,10)),s=Number.parseInt(e.toString(8)[0],10);return Boolean(4&s)}_remove(t,e,s){const i=qs.join(t,e),r=qs.resolve(i);if(s=null!=s?s:this._watched.has(i)||this._watched.has(r),!this._throttle(\"remove\",i,100))return;s||this.options.useFsEvents||1!==this._watched.size||this.add(t,e,!0),this._getWatchedDir(i).getChildren().forEach(t=>this._remove(i,t));const n=this._getWatchedDir(t),a=n.has(e);n.remove(e),this._symlinkPaths.has(r)&&this._symlinkPaths.delete(r);let o=i;if(this.options.cwd&&(o=qs.relative(this.options.cwd,i)),this.options.awaitWriteFinish&&this._pendingWrites.has(o)){if(this._pendingWrites.get(o).cancelWait()===li)return}this._watched.delete(i),this._watched.delete(r);const h=s?fi:di;a&&!this._isIgnored(i)&&this._emit(h,i),this.options.useFsEvents||this._closePath(i)}_closePath(t){this._closeFile(t);const e=qs.dirname(t);this._getWatchedDir(e).remove(qs.basename(t))}_closeFile(t){const e=this._closers.get(t);e&&(e.forEach(t=>t()),this._closers.delete(t))}_addPathCloser(t,e){if(!e)return;let s=this._closers.get(t);s||(s=[],this._closers.set(t,s)),s.push(e)}_readdirp(t,e){if(this.closed)return;const s={type:oi,alwaysStat:!0,lstat:!0,...e};let i=Js(t,s);return this._streams.add(i),i.once(_i,()=>{i=void 0}),i.once(wi,()=>{i&&(this._streams.delete(i),i=void 0)}),i}}S.FSWatcher=Ji;S.watch=((t,e)=>{const s=new Ji(e);return s.add(t),s});class tr{constructor(t,e){this.transformWatchers=new Map,this.chokidarOptions=e,this.task=t,this.watcher=this.createWatcher(null)}close(){this.watcher.close();for(const t of this.transformWatchers.values())t.close()}unwatch(t){this.watcher.unwatch(t);const e=this.transformWatchers.get(t);e&&(this.transformWatchers.delete(t),e.close())}watch(t,e){var s;if(e){const e=null!==(s=this.transformWatchers.get(t))&&void 0!==s?s:this.createWatcher(t);e.add(t),this.transformWatchers.set(t,e)}else this.watcher.add(t)}createWatcher(t){const e=this.task,s=\"linux\"===Object(h.platform)(),i=null!==t,r=(r,a)=>{const o=t||r;s&&(n.unwatch(o),n.add(o)),e.invalidate(o,{event:a,isTransformDependency:i})},n=S.watch([],this.chokidarOptions).on(\"add\",t=>r(t,\"create\")).on(\"change\",t=>r(t,\"update\")).on(\"unlink\",t=>r(t,\"delete\"));return n}}const er={create:{create:\"buggy\",delete:null,update:\"create\"},delete:{create:\"update\",delete:\"buggy\",update:\"buggy\"},update:{create:\"buggy\",delete:\"delete\",update:\"update\"}};class sr{constructor(t,e){this.buildDelay=0,this.buildTimeout=null,this.invalidatedIds=new Map,this.rerun=!1,this.running=!0,this.emitter=e,e.close=this.close.bind(this),this.tasks=t.map(t=>new ir(this,t)),this.buildDelay=t.reduce((t,{watch:e})=>e&&\"number\"==typeof e.buildDelay?Math.max(t,e.buildDelay):t,this.buildDelay),a.a.nextTick(()=>this.run())}async close(){this.buildTimeout&&clearTimeout(this.buildTimeout);for(const t of this.tasks)t.close();await this.emitter.emitAndAwait(\"close\"),this.emitter.removeAllListeners()}invalidate(t){if(t){const e=this.invalidatedIds.get(t.id),s=e?er[e][t.event]:t.event;\"buggy\"===s?this.invalidatedIds.set(t.id,t.event):null===s?this.invalidatedIds.delete(t.id):this.invalidatedIds.set(t.id,s)}this.running?this.rerun=!0:(this.buildTimeout&&clearTimeout(this.buildTimeout),this.buildTimeout=setTimeout(async()=>{this.buildTimeout=null;try{await Promise.all([...this.invalidatedIds].map(([t,e])=>this.emitter.emitAndAwait(\"change\",t,{event:e}))),this.invalidatedIds.clear(),this.emitter.emit(\"restart\"),this.emitter.removeAwaited(),this.run()}catch(t){this.invalidatedIds.clear(),this.emitter.emit(\"event\",{code:\"ERROR\",error:t,result:null}),this.emitter.emit(\"event\",{code:\"END\"})}},this.buildDelay))}async run(){this.running=!0,this.emitter.emit(\"event\",{code:\"START\"});for(const t of this.tasks)await t.run();this.running=!1,this.emitter.emit(\"event\",{code:\"END\"}),this.rerun&&(this.rerun=!1,this.invalidate())}}class ir{constructor(t,e){this.cache={modules:[]},this.watchFiles=[],this.closed=!1,this.invalidated=!0,this.watched=new Set,this.watcher=t,this.skipWrite=Boolean(e.watch&&e.watch.skipWrite),this.options=E(e),this.outputs=this.options.output,this.outputFiles=this.outputs.map(t=>{if(t.file||t.dir)return Object(i.resolve)(t.file||t.dir)});const s=this.options.watch||{};this.filter=Object(o.a)(s.include,s.exclude),this.fileWatcher=new tr(this,{...s.chokidar,disableGlobbing:!0,ignoreInitial:!0})}close(){this.closed=!0,this.fileWatcher.close()}invalidate(t,e){if(this.invalidated=!0,e.isTransformDependency)for(const e of this.cache.modules)e.transformDependencies.includes(t)&&(e.originalCode=null);this.watcher.invalidate({event:e.event,id:t})}async run(){if(!this.invalidated)return;this.invalidated=!1;const t={...this.options,cache:this.cache},e=Date.now();this.watcher.emitter.emit(\"event\",{code:\"BUNDLE_START\",input:this.options.input,output:this.outputFiles});let s=null;try{if(s=await Object(o.l)(t,this.watcher.emitter),this.closed)return;this.updateWatchedFiles(s),this.skipWrite||await Promise.all(this.outputs.map(t=>s.write(t))),this.watcher.emitter.emit(\"event\",{code:\"BUNDLE_END\",duration:Date.now()-e,input:this.options.input,output:this.outputFiles,result:s})}catch(t){if(!this.closed){if(Array.isArray(t.watchFiles))for(const e of t.watchFiles)this.watchFile(e);t.id&&(this.cache.modules=this.cache.modules.filter(e=>e.id!==t.id))}this.watcher.emitter.emit(\"event\",{code:\"ERROR\",error:t,result:s})}}updateWatchedFiles(t){const e=this.watched;this.watched=new Set,this.watchFiles=t.watchFiles,this.cache=t.cache;for(const t of this.watchFiles)this.watchFile(t);for(const t of this.cache.modules)for(const e of t.transformDependencies)this.watchFile(e,!0);for(const t of e)this.watched.has(t)||this.fileWatcher.unwatch(t)}watchFile(t,e=!1){if(this.filter(t)){if(this.watched.add(t),this.outputFiles.some(e=>e===t))throw new Error(\"Cannot import the generated bundle\");this.fileWatcher.watch(t,e)}}}}.call(this,s(7))}}]);","extractedComments":[]}